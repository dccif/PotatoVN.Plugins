(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const he=!1,pe=(e,t)=>e===t,ge=Symbol("solid-track"),F={equals:pe};let oe=ue;const L=1,G=2,re={owned:null,cleanups:null,context:null,owner:null};var b=null;let X=null,we=null,y=null,A=null,$=null,z=0;function R(e,t){const n=y,i=b,s=e.length===0,o=t===void 0?i:t,l=s?re:{owned:null,cleanups:null,context:o?o.context:null,owner:o},r=s?e:()=>e(()=>T(()=>O(l)));b=l,y=null;try{return P(r,!0)}finally{y=n,b=i}}function J(e,t){t=t?Object.assign({},F,t):F;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=s=>(typeof s=="function"&&(s=s(n.value)),fe(n,s));return[ce.bind(n),i]}function q(e,t,n){const i=Y(e,t,!1,L);B(i)}function ye(e,t,n){oe=ve;const i=Y(e,t,!1,L);i.user=!0,$?$.push(i):B(i)}function U(e,t,n){n=n?Object.assign({},F,n):F;const i=Y(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,B(i),ce.bind(i)}function T(e){if(y===null)return e();const t=y;y=null;try{return e()}finally{y=t}}function be(e){ye(()=>T(e))}function le(e){return b===null||(b.cleanups===null?b.cleanups=[e]:b.cleanups.push(e)),e}function ce(){if(this.sources&&this.state)if(this.state===L)B(this);else{const e=A;A=null,P(()=>H(this),!1),A=e}if(y){const e=this.observers?this.observers.length:0;y.sources?(y.sources.push(this),y.sourceSlots.push(e)):(y.sources=[this],y.sourceSlots=[e]),this.observers?(this.observers.push(y),this.observerSlots.push(y.sources.length-1)):(this.observers=[y],this.observerSlots=[y.sources.length-1])}return this.value}function fe(e,t,n){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&P(()=>{for(let s=0;s<e.observers.length;s+=1){const o=e.observers[s],l=X&&X.running;l&&X.disposed.has(o),(l?!o.tState:!o.state)&&(o.pure?A.push(o):$.push(o),o.observers&&ae(o)),l||(o.state=L)}if(A.length>1e6)throw A=[],new Error},!1)),t}function B(e){if(!e.fn)return;O(e);const t=z;me(e,e.value,t)}function me(e,t,n){let i;const s=b,o=y;y=b=e;try{i=e.fn(t)}catch(l){return e.pure&&(e.state=L,e.owned&&e.owned.forEach(O),e.owned=null),e.updatedAt=n+1,de(l)}finally{y=o,b=s}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?fe(e,i):e.value=i,e.updatedAt=n)}function Y(e,t,n,i=L,s){const o={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:b,context:b?b.context:null,pure:n};return b===null||b!==re&&(b.owned?b.owned.push(o):b.owned=[o]),o}function V(e){if(e.state===0)return;if(e.state===G)return H(e);if(e.suspense&&T(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<z);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===L)B(e);else if(e.state===G){const i=A;A=null,P(()=>H(e,t[0]),!1),A=i}}function P(e,t){if(A)return e();let n=!1;t||(A=[]),$?n=!0:$=[],z++;try{const i=e();return xe(n),i}catch(i){n||($=null),A=null,de(i)}}function xe(e){if(A&&(ue(A),A=null),e)return;const t=$;$=null,t.length&&P(()=>oe(t),!1)}function ue(e){for(let t=0;t<e.length;t++)V(e[t])}function ve(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:V(i)}for(t=0;t<n;t++)V(e[t])}function H(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];if(i.sources){const s=i.state;s===L?i!==t&&(!i.updatedAt||i.updatedAt<z)&&V(i):s===G&&H(i,t)}}}function ae(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=G,n.pure?A.push(n):$.push(n),n.observers&&ae(n))}}function O(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const o=s.pop(),l=n.observerSlots.pop();i<s.length&&(o.sourceSlots[l]=i,s[i]=o,n.observerSlots[i]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)O(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)O(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ae(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function de(e,t=b){throw Ae(e)}const Se=Symbol("fallback");function te(e){for(let t=0;t<e.length;t++)e[t]()}function Ee(e,t,n={}){let i=[],s=[],o=[],l=0,r=t.length>1?[]:null;return le(()=>te(o)),()=>{let f=e()||[],a=f.length,h,c;return f[ge],T(()=>{let u,p,S,v,m,g,d,w,x;if(a===0)l!==0&&(te(o),o=[],i=[],s=[],l=0,r&&(r=[])),n.fallback&&(i=[Se],s[0]=R(C=>(o[0]=C,n.fallback())),l=1);else if(l===0){for(s=new Array(a),c=0;c<a;c++)i[c]=f[c],s[c]=R(k);l=a}else{for(S=new Array(a),v=new Array(a),r&&(m=new Array(a)),g=0,d=Math.min(l,a);g<d&&i[g]===f[g];g++);for(d=l-1,w=a-1;d>=g&&w>=g&&i[d]===f[w];d--,w--)S[w]=s[d],v[w]=o[d],r&&(m[w]=r[d]);for(u=new Map,p=new Array(w+1),c=w;c>=g;c--)x=f[c],h=u.get(x),p[c]=h===void 0?-1:h,u.set(x,c);for(h=g;h<=d;h++)x=i[h],c=u.get(x),c!==void 0&&c!==-1?(S[c]=s[h],v[c]=o[h],r&&(m[c]=r[h]),c=p[c],u.set(x,c)):o[h]();for(c=g;c<a;c++)c in S?(s[c]=S[c],o[c]=v[c],r&&(r[c]=m[c],r[c](c))):s[c]=R(k);s=s.slice(0,l=a),i=f.slice(0)}return s});function k(u){if(o[c]=u,r){const[p,S]=J(c);return r[c]=S,t(f[c],p)}return t(f[c])}}}function Q(e,t){return T(()=>e(t||{}))}const Ce=e=>`Stale read from <${e}>.`;function $e(e){const t="fallback"in e&&{fallback:()=>e.fallback};return U(Ee(()=>e.each,e.children,t||void 0))}function Te(e){const t=e.keyed,n=U(()=>e.when,void 0,void 0),i=t?n:U(n,void 0,{equals:(s,o)=>!s==!o});return U(()=>{const s=i();if(s){const o=e.children;return typeof o=="function"&&o.length>0?T(()=>o(t?s:()=>{if(!T(i))throw Ce("Show");return n()})):o}return e.fallback},void 0,void 0)}function ke(e,t,n){let i=n.length,s=t.length,o=i,l=0,r=0,f=t[s-1].nextSibling,a=null;for(;l<s||r<o;){if(t[l]===n[r]){l++,r++;continue}for(;t[s-1]===n[o-1];)s--,o--;if(s===l){const h=o<i?r?n[r-1].nextSibling:n[o-r]:f;for(;r<o;)e.insertBefore(n[r++],h)}else if(o===r)for(;l<s;)(!a||!a.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[o-1]&&n[r]===t[s-1]){const h=t[--s].nextSibling;e.insertBefore(n[r++],t[l++].nextSibling),e.insertBefore(n[--o],h),t[s]=n[o]}else{if(!a){a=new Map;let c=r;for(;c<o;)a.set(n[c],c++)}const h=a.get(t[l]);if(h!=null)if(r<h&&h<o){let c=l,k=1,u;for(;++c<s&&c<o&&!((u=a.get(t[c]))==null||u!==h+k);)k++;if(k>h-r){const p=t[l];for(;r<h;)e.insertBefore(n[r++],p)}else e.replaceChild(n[r++],t[l++])}else l++;else t[l++].remove()}}}const ne="_$DX_DELEGATE";function Le(e,t,n,i={}){let s;return R(o=>{s=o,t===document?e():j(t,e(),t.firstChild?null:void 0,n)},i.owner),()=>{s(),t.textContent=""}}function Z(e,t,n,i){let s;const o=()=>{const r=i?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return r.innerHTML=e,n?r.content.firstChild.firstChild:i?r.firstChild:r.content.firstChild},l=t?()=>T(()=>document.importNode(s||(s=o()),!0)):()=>(s||(s=o())).cloneNode(!0);return l.cloneNode=l,l}function Ne(e,t=window.document){const n=t[ne]||(t[ne]=new Set);for(let i=0,s=e.length;i<s;i++){const o=e[i];n.has(o)||(n.add(o),t.addEventListener(o,Me))}}function _e(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Ie(e,t,n){return T(()=>e(t,n))}function j(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return K(e,t,i,n);q(s=>K(e,t(),s,n),i)}function Me(e){let t=e.target;const n=`$$${e.type}`,i=e.target,s=e.currentTarget,o=f=>Object.defineProperty(e,"target",{configurable:!0,value:f}),l=()=>{const f=t[n];if(f&&!t.disabled){const a=t[`${n}Data`];if(a!==void 0?f.call(t,a,e):f.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},r=()=>{for(;l()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const f=e.composedPath();o(f[0]);for(let a=0;a<f.length-2&&(t=f[a],!!l());a++){if(t._$host){t=t._$host,r();break}if(t.parentNode===s)break}}else r();o(i)}function K(e,t,n,i,s){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,l=i!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(l){let r=n[0];r&&r.nodeType===3?r.data!==t&&(r.data=t):r=document.createTextNode(t),n=N(e,n,i,r)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=N(e,n,i);else{if(o==="function")return q(()=>{let r=t();for(;typeof r=="function";)r=r();n=K(e,r,n,i)}),()=>n;if(Array.isArray(t)){const r=[],f=n&&Array.isArray(n);if(W(r,t,n,s))return q(()=>n=K(e,r,n,i,!0)),()=>n;if(r.length===0){if(n=N(e,n,i),l)return n}else f?n.length===0?se(e,r,i):ke(e,n,r):(n&&N(e),se(e,r));n=r}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=N(e,n,i,t);N(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function W(e,t,n,i){let s=!1;for(let o=0,l=t.length;o<l;o++){let r=t[o],f=n&&n[e.length],a;if(!(r==null||r===!0||r===!1))if((a=typeof r)=="object"&&r.nodeType)e.push(r);else if(Array.isArray(r))s=W(e,r,f)||s;else if(a==="function")if(i){for(;typeof r=="function";)r=r();s=W(e,Array.isArray(r)?r:[r],Array.isArray(f)?f:[f])||s}else e.push(r),s=!0;else{const h=String(r);f&&f.nodeType===3&&f.data===h?e.push(f):e.push(document.createTextNode(h))}}return s}function se(e,t,n=null){for(let i=0,s=t.length;i<s;i++)e.insertBefore(t[i],n)}function N(e,t,n,i){if(n===void 0)return e.textContent="";const s=i||document.createTextNode("");if(t.length){let o=!1;for(let l=t.length-1;l>=0;l--){const r=t[l];if(s!==r){const f=r.parentNode===e;!o&&!l?f?e.replaceChild(s,r):e.insertBefore(s,n):f&&r.remove()}else o=!0}}else e.insertBefore(s,n);return[s]}var Oe=Z('<div style="position:fixed;inset:0;z-index:9999;background:rgba(0,0,0,0.85);display:flex;flex-direction:column;justify-content:center;align-items:center;color:white;font-family:Segoe UI;font-weight:300"><h1 style=font-size:48px;margin-bottom:20px>PRESS ANY BUTTON</h1><p style=font-size:24px;opacity:0.8>Gamepad or Keyboard or Mouse'),Be=Z('<div style=height:100vh;display:flex;flex-direction:column;user-select:none><header style="padding:20px 40px;display:flex;align-items:center;background:rgba(0,0,0,0.8);z-index:100;backdrop-filter:blur(10px)"><button style="background:transparent;border:1px solid rgba(255,255,255,0.2);color:white;padding:8px 16px;margin-right:20px;cursor:pointer">EXIT (B)</button><h1 style=margin:0;font-size:24px;font-weight:300;text-transform:uppercase>Library</h1></header><div style="padding:80px 40px 20px;overflow-y:auto;flex:1"><div style="display:grid;grid-template-columns:repeat(auto-fill, minmax(200px, 1fr));gap:20px">'),Pe=Z('<div class=card tabindex=0 style="background-color:var(--card-bg);border-radius:4px;overflow:hidden;cursor:pointer;aspect-ratio:2/3;position:relative;content-visibility:auto;contain-intrinsic-size:200px 300px"><img loading=lazy style=width:100%;height:100%;object-fit:cover><div style=position:absolute;bottom:0;left:0;right:0;background:rgba(0,0,0,0.8);padding:10px>',!0,!1,!1);function De(){const[e,t]=J([]),[n,i]=J(!1);let s,o=0,l;be(()=>{window.potatoData&&t(window.potatoData),f();const u=console.log;console.log=(...p)=>{u(...p),window.chrome?.webview?.postMessage(JSON.stringify({type:"log",message:p.join(" ")}))}}),le(()=>{cancelAnimationFrame(l)});const r=()=>{n()||(i(!0),setTimeout(()=>{s?.querySelector(".card")?.focus()},50))},f=()=>{const u=()=>{const p=performance.now();if(p-o>150){const S=navigator.getGamepads();for(const v of S)if(v){if(!n()){const m=v.buttons.some(d=>d.pressed),g=v.axes.some(d=>Math.abs(d)>.2);(m||g)&&r()}if(n()){a(v,p);break}}}l=requestAnimationFrame(u)};l=requestAnimationFrame(u)},a=(u,p)=>{const v=u.axes[0]<-.5||u.buttons[14]?.pressed,m=u.axes[0]>.5||u.buttons[15]?.pressed,g=u.axes[1]<-.5||u.buttons[12]?.pressed,d=u.axes[1]>.5||u.buttons[13]?.pressed,w=u.buttons[0]?.pressed,x=u.buttons[1]?.pressed;if(v||m||g||d)h(v,m,g,d),o=p;else if(w){const C=document.activeElement;C&&C.classList.contains("card")&&(C.click(),o=p+300)}else x&&(c(),o=p+500)},h=(u,p,S,v)=>{if(!s)return;const m=Array.from(s.querySelectorAll(".card")),g=document.activeElement;if(!g||!m.includes(g)){m[0]?.focus();return}const d=g.getBoundingClientRect(),w={x:d.left+d.width/2,y:d.top+d.height/2};let x=null,C=1/0;m.filter(_=>{if(_===g)return!1;const E=_.getBoundingClientRect(),I={x:E.left+E.width/2,y:E.top+E.height/2},M=I.x-w.x,D=I.y-w.y;return u?M<-10&&Math.abs(D)<E.height/2:p?M>10&&Math.abs(D)<E.height/2:S?D<-10:v?D>10:!1}).forEach(_=>{const E=_.getBoundingClientRect(),I={x:E.left+E.width/2,y:E.top+E.height/2},M=Math.pow(I.x-w.x,2)+Math.pow(I.y-w.y,2);M<C&&(C=M,x=_)}),x&&(x.focus(),x.scrollIntoView({behavior:"smooth",block:"center"}))},c=()=>window.chrome?.webview?.postMessage({type:"close"}),k=u=>window.chrome?.webview?.postMessage({type:"launch",id:u});return(()=>{var u=Be(),p=u.firstChild,S=p.firstChild;S.nextSibling;var v=p.nextSibling,m=v.firstChild;u.$$keydown=r,u.$$click=r,j(u,Q(Te,{get when(){return!n()},get children(){var d=Oe(),w=d.firstChild;return w.nextSibling,d}}),p),S.$$click=c;var g=s;return typeof g=="function"?Ie(g,m):s=m,j(m,Q($e,{get each(){return e()},children:d=>(()=>{var w=Pe(),x=w.firstChild,C=x.nextSibling;return w.$$click=()=>k(d.id),x.addEventListener("error",ee=>ee.currentTarget.src="https://via.placeholder.com/200?text=Error"),j(C,()=>d.name),q(()=>_e(x,"src",d.image)),w})()})),u})()}Ne(["click","keydown"]);const ie=document.getElementById("root");ie instanceof HTMLElement&&Le(()=>Q(De,{}),ie);
